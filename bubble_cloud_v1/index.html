<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>vis</title>
  <meta name="description" content="">
  <meta name="author" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- CSS concatenated and minified via ant build script-->
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
  <!-- end CSS-->

  <script src="js/libs/modernizr-2.0.6.min.js"></script>
  <script src="https://d3js.org/d3.v4.js"></script>
</head>

<body>

  <div id="container" class="container">
      <select id="text-select">
        <option value="sherlock">Sherlock Holmes</option>
        <option value="aesop">Aesop's Fables</option>
        <option value="alice">Alice in Wonderland</option>
        <option value="gulliver">Gulliver's Travels</option>
      </select>
    <header>
    <h1>GGD Data Monitor - Sprint 1</h1>
    <!--h2>Sprint 1</h2-->
      <h2 id="book-title"></h2>
    </header>
    <div id="main" role="main">
      <div id="vis"></div>
      <div id="vis2"></div>
      <div id="status"></div>
      <div id="controls">
        <h3>Jitter</h3>
        <form id="jitter" oninput="output.value = (jitter_input.value / 200).toFixed(3)" >
          <input id="jitter_input" type="range" min="0" max="400" value="100" style="width:240px;">
          <output name="output" for="input">0.5</output>
        </form>
      </div>
    </div>
    <footer>
    <p><a href="http://vallandingham.me/building_a_bubble_cloud.html">Blog Post</a> | <a href="https://github.com/vlandham/bubble_cloud">Source Code</a> | <a href="http://www.nytimes.com/interactive/2012/09/04/us/politics/democratic-convention-words.html">Original Inspiration</a></p>
    </footer>
  </div> <!--! end of #container -->


  <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script> -->
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.2.min.js"><\/script>')</script>


  <script src="js/libs/d3.min.js"></script>
  <script src="https://d3js.org/d3-scale.v3.min.js"></script>
<script src="https://d3js.org/d3-path.v1.min.js"></script>
<script src="https://d3js.org/d3-shape.v1.min.js"></script>
<!--script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.1.3"> 
  <script src="https://d3js.org/d3.v4.js"></script>
  <script type="text/javascript" src="http://mbostock.github.com/d3/d3.geom.js?2.1.3"></script>
  <script type="text/javascript" src="http://mbostock.github.com/d3/d3.layout.js?2.1.3"></script-->
  
<script defer src="js/plugins.js"></script>
<script src="js/libs/coffee-script.js"></script>
<script type="text/coffeescript" src="coffee/vis.coffee"></script>

  <script type="text/javascript">

// set the dimensions and margins of the graph
var width = 30
    height = 30
    margin = 0

// The radius of the pieplot is half the width or half the height (smallest one). I subtract a bit of margin.
var radius = Math.min(width, height) / 2 - margin

// append the svg object to the div called 'my_dataviz'
// var svg = d3.select("#vis")
//  .append("svg")
//    .attr("width", width)
//    .attr("height", height)
//  .append("g")
//    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

// Create dummy data

var data_donut = {a: 9, b: 20, c:30, d:8, e:12}

// set the color scale
var color = d3.scaleOrdinal()
  //.domain(data_donut)
  .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56"])

// Compute the position of each group on the pie:
var pie = d3.pie()
  .value(function(d) {return d.value; })
var data_ready = pie(d3.entries(data_donut))


var svg = d3
  .select("#vis2")
  //.select("#bubble-nodes")
  //.selectAll('a')
  //.selectAll('bubble-node')
  .append("svg")
  //.selectAll('a')
  .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

svg
  .selectAll('whatever')
  .data(data_ready)
  .enter()
  .append('path')
  .attr('d', d3.arc()
    .innerRadius(0)
    .outerRadius(radius)
  )
  .attr('fill', function(d){ return(color(d.data.key)) })
  .attr("stroke", "black")
  .style("stroke-width", "2px")
  .style("opacity", 0.7)

  //var donut = document.getElementById("vis2") 
    // d3
    //.select("#vis2")
    //.cloneNode(true)

//    .getElementById("myList2").lastChild;

// Copy the <li> element and its child nodes
//var cln = itm.cloneNode(true)

/***
// Build the pie chart: Basically, each part of the pie is a path that we build using the arc function.
box = d3.select("#bubble-node").selectAll('.bubble-node')

box.append("rect")
        .attr("fill", "#FF0000")
        .attr("width", width)
        .attr("height", height)
/***
box
  //.enter()
  // .append("g")
  //  .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
  .data(data_ready)
  .enter()
  .append('path')
    .attr('d', d3.arc()
      .innerRadius(0)
      .outerRadius(radius)
    )
    .attr('fill', function(d){ return(color(d.data.key)) })
    .attr("stroke", "black")
  .style("stroke-width", "2px")
  .style("opacity", 0.7);
  /******/

  </script>
 

  <!--script> 
    window._gaq = [['_setAccount','UA-17355070-1'],['_trackPageview'],['_trackPageLoadTime']];
    Modernizr.load({
      load: ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js'
    });
  </script-->


  <!--[if lt IE 7 ]>
    <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->
  
</body>
</html>
