<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap" rel="stylesheet">
    <!-- Font Awesome --><script src="https://dss.cloud/fa/js/all.min.js"></script>
    <title>GGD Dashboard</title>
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
        }
        .header {
            padding-top:50px;
        }
        .toolbar {
            font-weight: 700;
            background-color: #F7F7F7;
            border: 1px solid #4D4D4D;
            border-radius: 50px;
            margin-top:25px;
            text-align: center;
            box-shadow: 2px 4px 20px 4px rgb(0,0,0,0.18);
            margin-bottom:25px;
        }
        .toolbar-header {
            border-radius: 50px;
            padding: 15px;
            border: 2px solid #000000;
            background-color: #E6E6E6;
            cursor: pointer;
        }
        .toolbar-items {
            display: flex;
            align-items: center;
            text-align: center;
            width: 100%;
            padding: 30px;
        }
        .toolbar-items div {
            width: 50%;
        }
        img.eyecon {
            height: 63.942px;
            width: 63.942px;
        }
        img.icon {
            width:60px;
        }
        .level div div {
            padding: 10px;
        }
        .circle {
            height: 25px;
            width: 25px;
            border-radius: 50%;
            display: inline-block;
            position: relative;
            top: 6px;
        }
        .ownership {
            text-align: left;
        }
        .ownership div {
            width: 100%;
            padding: 5px;
        }

        /* begin abdo import */
        #text-select {
            float: right;
            margin-right: 10px;
        }
        
        #vis {
            overflow: hidden;
            position: relative;
        }
        
        #status {
            padding: 0 0 20px 20px;
        }
        
        #controls {
            padding: 20px;
            background-color: #eee;
            margin: 10px;
            width: 350px;
        }
        
        #bubble-background {
            fill: none;
            pointer-events: all;
        }
        
        .bubble-node {
            /* fill: #d1e0f3; */
            fill: #DCE9BE;
        }
        
        .bubble-hover {
            /* fill: #b8c7d9; */
            fill: #E8E9E7;
        }
        
        .bubble-selected {
            /* fill: #a8c8ee;  */
            fill: #CEE98F;
            /* stroke: #6081a3; */
            stroke: #A6BA92;
            stroke-width: 1.5px;
        }
        
        .active {
            color: #A6BA92;
        }
        
        a.bubble-label {
            font-family: 'Open Sans', sans-serif;
            color: inherit;
            cursor: pointer;
            display: block;
            text-align: center;
            text-decoration: none;
            line-height: 1em;
            position: absolute;
        }
        
        .bubble-label .bubble-label-value {
            font: 11px sans-serif;
            white-space: nowrap;
        }
        
        footer p {
            text-align: center;
            padding-top: 20px;
            padding-bottom: 20px;
            font: 13px sans-serif;
        }
        
        .rotate-right {
            transform: translate(-3%, -11%) rotate(55deg) scale(0.2);
        }
        
        .rotate-left {
            transform: translate(-6%, -11%) rotate(55deg) scale(0.2);
        }
        
        .rotate-up {
            transform: translate(-4%, -13%) rotate(145deg) scale(0.2);
        }
        
        .rotate-diagonal-right {
            transform: translate(-3%, -8%) rotate(107deg) scale(0.2);
        }
        
        .rotate-diagonal-left {
            transform: translate(-5%, -7%) rotate(185deg) scale(0.2);
        }
        
        .rotate-white {
            transform: translate(-5%, -7%) rotate(185deg) scale(0.2);
        }

        .catPopulation {
            display:none;
        }
        .catCoverage, .catLevel {
            display:none;
        }
        .bubble-label-name {
            margin-bottom: 30px;
            /* display:none; */
        }
        .bubble-label-value {
            font-weight:bold;
        }
        
    </style>
    <script src="assets/js/libs/modernizr-2.0.6.min.js"></script>
    <script>
        var categories = ["Population", "Dataset", "Coverage", "Level"];
        function changeView(view, c = false) {
            if (c) {
                $(c).toggle();
                toggleEye(view);
            } else {
                for (category in categories) {
                    cat = categories[category]
                    if (cat == view) {
                        $('.cat' + cat).show();
                        toggleEye(cat, 'show');
                        console.log("Showing" + categories[category]);
                    } else {
                        $('.cat' + cat).hide();
                        console.log("Hiding" + categories[category]);
                        toggleEye(cat, 'hide');
                    }
                }
            }
        }
        function toggleEye(view, showhide=false) {
            if (!showhide) {
                if ($('#eye' + view).attr('collapsed') == 'false') {
                    $('#eye' + view).attr('src', 'assets/img/eye.svg');
                    $('#eye' + view).attr('collapsed', 'true');
                } else {
                    $('#eye' + view).attr('src', 'assets/img/eye_open.svg');
                    $('#eye' + view).attr('collapsed', 'false');
                }
            } else {
                if (showhide == 'show' && $('#eye' + view).attr('collapsed') == 'true') {
                    $('#eye' + view).attr('src', 'assets/img/eye_open.svg');
                    $('#eye' + view).attr('collapsed', 'false');
                } else if (showhide == 'hide' && $('#eye' + view).attr('collapsed') == 'false') {
                    $('#eye' + view).attr('src', 'assets/img/eye.svg');
                    $('#eye' + view).attr('collapsed', 'true');
                }
            }
        }
        function collapseToolbar(toolbar) {
            $('#toolbar-' + toolbar).collapse('toggle');
            //console.log($('#toolbar-icon-' + toolbar).attr('collapsed'));
            if ($('#toolbar-icon-' + toolbar).attr('collapsed') == 'true') {
                $('#toolbar-icon-' + toolbar).removeClass('fa-plus');
                $('#toolbar-icon-' + toolbar).addClass('fa-minus');
                $('#toolbar-icon-' + toolbar).attr('collapsed', 'false'); 
            } else {
                $('#toolbar-icon-' + toolbar).removeClass('fa-minus');
                $('#toolbar-icon-' + toolbar).addClass('fa-plus');
                $('#toolbar-icon-' + toolbar).attr('collapsed', 'true'); 
            }
        }
    </script>
  </head>
  <body>
    <div class="container">
        <div class="row">
            <div class="col header">
                <div id="vis"></div>
                <div id="vis2"></div>
                <div id="vis3"></div>
                <div style="display: flex; justify-content: center;">
                    <input class="searchInput" name="targetNode" type="text" />
                    <button class="button">Search</button>
                    <button class="reset">reset</button>
                </div>
                <div style="display: flex;justify-content: center;" id="status"></div>
            </div>
        </div>
    </div>
    <!-- begin first toolbar -->
    <div class="container toolbar">
        <div class="row toolbar-header">
            <div class="col" onmouseup="changeView('Coverage');">
                <img class="eyecon" id="eyeCoverage" collapsed="true" src="assets/img/eye.svg">
                Geo. Coverage
            </div>
            <div class="col" onmouseup="changeView('Population');">
                <img class="eyecon" collapsed="true" id="eyePopulation" src="assets/img/eye.svg">
                Population
            </div>
            <div class="col" onmouseup="changeView('Dataset');">
                <img class="eyecon" collapsed="false" id="eyeDataset" src="assets/img/eye_open.svg">
                Type of Dataset
            </div>
            <div class="col" onmouseup="changeView('Level');">
                <img class="eyecon" collapsed="true" id="eyeLevel" src="assets/img/eye.svg">
                Level
            </div>
            <div class="col-auto">
                <i class="fa fa-plus" aria-hidden="true" id="toolbar-icon-top" collapsed="true" onmouseup="collapseToolbar('top')"></i>
            </div>
        </div>
        <div class="row collapse" id="toolbar-top">
            <div class="col">
                <div class="toolbar-items">
                    <div style="float:left;"><img src="assets/img/street.svg" class="icon"></div>
                    <div style="float:right;">Straat<br>Buurt<br>Wijk</div>
                </div>
                <div class="toolbar-items">
                    <div style="float:left;"><img src="assets/img/city.svg" class="icon"></div>
                    <div style="float:right;">Gebied<br>Stadsdeel<br>Stad</div>
                </div>
                <div class="toolbar-items">
                    <div style="float:left;"><img src="assets/img/metro.svg" class="icon"></div>
                    <div style="float:right;">Amstelland<br>Metro. A'dam<br>G4<br>National</div>
                </div>
            </div>
            <div class="col">
                <div class="toolbar-items">
                    <div style="float:left;"><img src="assets/img/youth.svg" class="icon"><br>Youth</div>
                    <div style="float:right;"><img src="assets/img/young_adult.svg" class="icon"><br>Young Adult</div>
                </div>
                <div class="toolbar-items">
                    <div style="float:left;"><img src="assets/img/adult.svg" class="icon"><br>Adult</div>
                    <div style="float:right;"><img src="assets/img/old_person.svg" class="icon"><br>Elderly</div>
                </div>
            </div>
            <div class="col">
                <div class="toolbar-items">
                    <img src="assets/img/star.svg" width="100%">
                </div>
            </div>
            <div class="col">
                <div class="toolbar-items level">
                    <div style="float:left;">
                        <div><img src="assets/img/individual.svg" class="icon"><br>Individual</div>
                        <div><img src="assets/img/family.svg" class="icon"><br>Family</div>
                        <div><img src="assets/img/group.svg" class="icon"><br>Group</div>
                    </div>
                    <div style="float:right;">
                        <div><img src="assets/img/organization.svg" class="icon"><br>Organization</div>
                        <div><img src="assets/img/geo.svg" class="icon"><br>Geography</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- begin second toolbar -->
    <div class="container toolbar">
        <div class="row toolbar-header">
            <div class="col" onmouseup="changeView('Cases','.bubble-label .bubble-label-value');">
                <img class="eyecon" collapsed="false" id="eyeCases" src="assets/img/eye_open.svg">
                Number of Cases
            </div>
            <div class="col">
                <img class="eyecon" src="assets/img/eye_open.svg">
                Ownership
            </div>
            <div class="col" onmouseup="changeView('Temporal','.arc');">
                <img class="eyecon" id="eyeTemporal" collapsed="false" src="assets/img/eye_open.svg">
                Temporal Coverage
            </div>
            <div class="col-auto">
                <i class="fa fa-plus" aria-hidden="true" id="toolbar-icon-bottom" collapsed="true" onmouseup="collapseToolbar('bottom')"></i>
            </div>
        </div>
        <div class="row collapse" id="toolbar-bottom">
            <div class="col">
                <div class="toolbar-items">
                    <img src="assets/img/cases.svg" width="100%">
                </div>
            </div>
            <div class="col">
                <div class="toolbar-items ownership">
                    <div style="float:left;">
                        <div><span style="background-color: purple;" class="circle"></span> EGZ</div>
                        <div><span style="background-color: blue;" class="circle"></span> IZ</div>
                        <div><span style="background-color: green;" class="circle"></span> JGZ</div>
                        <div><span style="background-color: brown;" class="circle"></span> VT</div>
                        <div><span style="background-color: yellow;" class="circle"></span> MGZ</div>
                    </div>
                    <div style="float:right;">
                        <div><span style="background-color: red;" class="circle"></span> FGMA</div>
                        <div><span style="background-color: violet;" class="circle"></span> GHOR</div>
                        <div><span style="background-color: gray;" class="circle"></span> LO</div>
                        <div><span style="background-color: yellowgreen;" class="circle"></span> AAGG</div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="toolbar-items">
                    <img src="assets/img/temporal.svg" width="100%">
                </div>
            </div>
        </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
    <!-- D3 JS -->
    <script src="assets/js/libs/d3.min.js"></script>
    <script src="assets/js/libs/d3-scale.v3.min.js"></script>
    <script src="assets/js/libs/d3-path.v1.min.js"></script>
    <script src="assets/js/libs/d3-shape.v1.min.js"></script>
    
    <script defer src="assets/js/plugins.js"></script>
    <script src="assets/js/libs/coffee-script.js"></script>
    <script type="text/coffeescript" src="assets/coffee/vis.coffee"></script>
    
    <script type="text/javascript">
        /* var margin = 0;
        var padding = 0;
        var radius = 100;

        var color = d3.scale.ordinal()
            .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);

        var arc = d3.svg.arc()
            .outerRadius(function (d) {
                return (d.data.size) / 4;
            })
            .innerRadius(function (d) {
                return (d.data.size) / 4 - 10;
            });

        var arc_donut = d3.svg.arc()
            .outerRadius(100)
            .innerRadius(100);


        var pie = d3.pie()
            .sort(null)
            .value(function (d) {
                return d.time_band;
            });

        d3.csv("data/dummy.csv", function (error, data) {
            if (error) throw error;

            color.domain(d3.keys(data[0]).filter(function (key) {
                return key !== "name";
            }));

            data.forEach(function (d) {
                d.time = color.domain().map(function (name) {
                    var band = d[name];
                    var test = {
                        name: d.name,
                        Y1970: d.Y1970,
                        Y1980: d.Y1980,
                        Y1990: d.Y1990,
                        Y2000: d.Y2000,
                        Y2010: d.Y2010,
                        Y2020: d.Y2020
                    };
                    var res = {
                        name: name,
                        time_band: test[name],
                        size: d.size
                    };
                    //console.log(res);
                    return res;
                });
            })}); */
    </script>
  </body>
</html>